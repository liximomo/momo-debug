!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).MomoDebug={})}(this,function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var r=new WeakMap,n=new WeakMap,o=new WeakSet,i={get:!1,set:!1,delete:!1,call:!1};var s=function(){function e(e){this._propsInterceptionConfig=new Map,this._raw=e,this.reset()}return e.prototype.read=function(e){return this.toggleConfigKeys(["get"],!0,e),this},e.prototype.write=function(e){return this.toggleConfigKeys(["set"],!0,e),this},e.prototype.writeDelete=function(e){return this.toggleConfigKeys(["set","delete"],!0,e),this},e.prototype.call=function(e){return"function"==typeof this._raw[e]&&this.prop(e),this},e.prototype.enable=function(e){return this.toggleConfigKeys(["disable"],!0,e),this},e.prototype.disable=function(e){return this.toggleConfigKeys(["disable"],!1,e),this},e.prototype.reset=function(){return this._interceptionConfig=t(t({},i),"function"==typeof this._raw?{call:!0}:{set:!0,delete:!0}),this},e.prototype.getProxy=function(){if(this._proxied)return this._proxied;var e=this;return this._proxied=new Proxy(this._raw,{apply:function(t,r,n){var o=e.getConfig();if(!o.disable&&o.call)debugger;return Reflect.apply(t,r,n)},get:function(t,r,n){var o=e.getConfigForProp(r);if(!o.disable&&o.get)debugger;return Reflect.get(t,r,n)},set:function(t,r,n){var o=e.getConfigForProp(r);if(!o.disable&&o.set)debugger;return Reflect.set(t,r,n)},deleteProperty:function(t,r){var n=e.getConfigForProp(r);if(!n.disable&&n.delete)debugger;return Reflect.deleteProperty(t,r)}}),this._proxied},e.prototype.prop=function(t){var n,i;if("string"!=typeof t)n=this._raw,i=t;else{var s=t.replace(/\[(.+?)\]/g,".$1").split(".");if(1===s.length)n=this._raw,i=t;else{i=s.pop();for(var p=0;p<s.length;p++)n=this._raw[s[p]]}}return o.has(n)&&(n=r.get(n)),n[i]=new e(n[i]).getProxy()},e.prototype.toggleConfigKeys=function(e,t,r){var n=function(e,t){return e.reduce(function(e,r){return e[r]=t,e},{})}(e,t);if(void 0!==r){var o=this._propsInterceptionConfig.get(r);o?Object.assign(o,n):this._propsInterceptionConfig.set(r,n)}else Object.assign(this._interceptionConfig,n)},e.prototype.getConfig=function(){return this._interceptionConfig},e.prototype.getConfigForProp=function(e){return t(t({},this.getConfig()),this._propsInterceptionConfig.get(e))},e}();e.intercept=function(e){var t,i,p;if(t=null!==(p=e)&&"object"==typeof p,i='"intercept()" require an "object", got '+typeof e,console.assert(t,i),o.has(e))return e;if(n.has(e))return n.get(e);var f=new s(e);return o.add(f),n.set(e,f),r.set(f,e),f},Object.defineProperty(e,"__esModule",{value:!0})});
